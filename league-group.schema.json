{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://radball.digital/schemas/league-group-export.json",
  "title": "League Group Export",
  "description": "Schema for exporting league group data including teams, clubs, gyms, and statistics",
  "type": "object",
  "required": ["group", "teams", "clubs", "gyms", "statistics"],
  "properties": {
    "group": {
      "$ref": "#/definitions/Group"
    },
    "teams": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/TeamDetail"
      }
    },
    "clubs": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/Club"
      }
    },
    "gyms": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/Gym"
      }
    },
    "statistics": {
      "$ref": "#/definitions/LeagueGroupStatistics"
    }
  },
  "definitions": {
    "Address": {
      "type": "object",
      "required": ["street", "zip", "city", "country"],
      "properties": {
        "street": {
          "type": "string"
        },
        "zip": {
          "type": "string"
        },
        "city": {
          "type": "string"
        },
        "country": {
          "type": "string"
        }
      }
    },
    "Club": {
      "type": "object",
      "required": ["id", "name", "shortName", "preferredDates"],
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid"
        },
        "name": {
          "type": "string"
        },
        "shortName": {
          "type": "string"
        },
        "preferredDates": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/PreferredMatchdayDate"
          }
        }
      }
    },
    "Season": {
      "type": "object",
      "required": ["id", "name", "startDate", "endDate"],
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid"
        },
        "name": {
          "type": "string"
        },
        "startDate": {
          "type": "string",
          "format": "date"
        },
        "endDate": {
          "type": "string",
          "format": "date"
        }
      }
    },
    "League": {
      "type": "object",
      "required": ["id", "name", "shortName", "description", "minAge", "maxAge", "matchdayDates"],
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid"
        },
        "name": {
          "type": "string"
        },
        "shortName": {
          "type": "string"
        },
        "description": {
          "type": "string"
        },
        "minAge": {
          "type": ["number", "null"]
        },
        "maxAge": {
          "type": ["number", "null"]
        },
        "matchdayDates": {
          "type": "array",
          "items": {
            "type": "string",
            "format": "date"
          }
        }
      }
    },
    "Leader": {
      "type": "object",
      "required": ["id", "firstName", "lastName", "email", "phone"],
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid"
        },
        "firstName": {
          "type": "string"
        },
        "lastName": {
          "type": "string"
        },
        "email": {
          "type": "string",
          "format": "email"
        },
        "phone": {
          "type": ["string", "null"]
        }
      }
    },
    "Group": {
      "type": "object",
      "required": ["id", "number", "name", "shortName", "season", "league", "leader", "regulation"],
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid"
        },
        "number": {
          "type": "number"
        },
        "name": {
          "type": "string"
        },
        "shortName": {
          "type": "string"
        },
        "season": {
          "$ref": "#/definitions/Season"
        },
        "league": {
          "$ref": "#/definitions/League"
        },
        "leader": {
          "$ref": "#/definitions/Leader"
        },
        "regulation": {
          "type": "string"
        }
      }
    },
    "Person": {
      "type": "object",
      "required": ["id", "firstName", "lastName", "email", "phone", "gender", "dateOfBirth", "uciCode", "nationality", "clubId"],
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid"
        },
        "firstName": {
          "type": "string"
        },
        "lastName": {
          "type": "string"
        },
        "email": {
          "type": ["string", "null"],
          "format": "email"
        },
        "phone": {
          "type": ["string", "null"]
        },
        "gender": {
          "type": "string"
        },
        "dateOfBirth": {
          "type": "string",
          "format": "date"
        },
        "uciCode": {
          "type": "string"
        },
        "nationality": {
          "type": "string"
        },
        "clubId": {
          "type": "string",
          "format": "uuid"
        }
      }
    },
    "PreferredMatchdayDate": {
      "type": "object",
      "required": ["preferenceDate", "status", "notes"],
      "properties": {
        "preferenceDate": {
          "type": "string",
          "format": "date"
        },
        "status": {
          "type": "string",
          "enum": ["PREFERRED", "AVAILABLE"]
        },
        "notes": {
          "type": ["string", "null"]
        }
      }
    },
    "TeamDetail": {
      "type": "object",
      "required": ["id", "name", "withoutCompetition", "secondRightToPlay", "exemptionRequest", "players", "clubId", "sgClubId"],
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid"
        },
        "name": {
          "type": "string"
        },
        "withoutCompetition": {
          "type": "boolean"
        },
        "secondRightToPlay": {
          "type": "boolean"
        },
        "exemptionRequest": {
          "type": ["string", "null"]
        },
        "players": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Person"
          }
        },
        "clubId": {
          "type": "string",
          "format": "uuid"
        },
        "sgClubId": {
          "type": ["string", "null"],
          "format": "uuid"
        }
      }
    },
    "Gym": {
      "type": "object",
      "required": ["id", "name", "availableFields", "address", "clubId"],
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid"
        },
        "name": {
          "type": "string"
        },
        "availableFields": {
          "type": "string"
        },
        "address": {
          "$ref": "#/definitions/Address"
        },
        "clubId": {
          "type": "string",
          "format": "uuid"
        }
      }
    },
    "LeagueGroupStatistics": {
      "type": "object",
      "required": ["totalTeams", "totalPlayers", "totalClubs", "totalGyms"],
      "properties": {
        "totalTeams": {
          "type": "number"
        },
        "totalPlayers": {
          "type": "number"
        },
        "totalClubs": {
          "type": "number"
        },
        "totalGyms": {
          "type": "number"
        }
      }
    }
  }
}
